<!doctype html>
<html data-n-head-ssr lang="zh-CN" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22zh-CN%22%7D%7D">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>安全指南 - 最佳实践 - 使用手册 - Apache ECharts</title><meta data-n-head="ssr" data-hid="docsearch:language" name="docsearch:language" content="zh"><base href="/echarts-handbook/"><link data-n-head="ssr" rel="shortcut icon" type="image/png" href="https://echarts.apache.org/zh/images/favicon.png"><link data-n-head="ssr" rel="stylesheet" href="//echarts.apache.org/zh/js/vendors/bootstrap@3.3.7/css/bootstrap.min.css"><link data-n-head="ssr" rel="stylesheet" href="https://echarts.apache.org/zh/css/main.css"><link data-n-head="ssr" rel="stylesheet" href="//echarts.apache.org/zh/js/vendors/docsearch.js@2.6.3/dist/cdn/docsearch.min.css"><script data-n-head="ssr">window.ECHARTS_WWW_VENDORS_CDN_ROOT="//echarts.apache.org/zh/js/vendors/"</script><script data-n-head="ssr" src="//echarts.apache.org/zh/js/vendors/jquery@3.7.1/dist/jquery.min.js"></script><script data-n-head="ssr" src="//echarts.apache.org/zh/js/vendors/bootstrap@3.3.7/js/bootstrap.min.js"></script><script data-n-head="ssr" src="//echarts.apache.org/zh/js/vendors/docsearch.js@2.6.3/dist/cdn/docsearch.min.js"></script><link rel="preload" href="/echarts-handbook/_nuxt/d6c60eb.js" as="script"><link rel="preload" href="/echarts-handbook/_nuxt/js/fa73816a85b29fbf7562.js" as="script"><link rel="preload" href="/echarts-handbook/_nuxt/css/ee8e7fb.css" as="style"><link rel="preload" href="/echarts-handbook/_nuxt/js/b964c20bb1562bc48da6.js" as="script"><link rel="preload" href="/echarts-handbook/_nuxt/css/6b95e13.css" as="style"><link rel="preload" href="/echarts-handbook/_nuxt/js/a262cfb30d7d3226a84d.js" as="script"><link rel="preload" href="/echarts-handbook/_nuxt/css/0c5ed63.css" as="style"><link rel="preload" href="/echarts-handbook/_nuxt/js/a0aeabe5a0eba1d88cd8.js" as="script"><link rel="preload" href="/echarts-handbook/_nuxt/css/3556c50.css" as="style"><link rel="preload" href="/echarts-handbook/_nuxt/js/8cbc28eba39ffdac2c44.js" as="script"><link rel="stylesheet" href="/echarts-handbook/_nuxt/css/ee8e7fb.css"><link rel="stylesheet" href="/echarts-handbook/_nuxt/css/6b95e13.css"><link rel="stylesheet" href="/echarts-handbook/_nuxt/css/0c5ed63.css"><link rel="stylesheet" href="/echarts-handbook/_nuxt/css/3556c50.css">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div><nav role="navigation" class="navbar navbar-default navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="https://echarts.apache.org/zh/index.html" class="navbar-brand"><img src="https://echarts.apache.org/zh/images/logo.png?_v_=20240226" alt="echarts logo" class="navbar-logo"></a></div><div id="navbar-collapse" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-left"><li id="nav-index"><a href="https://echarts.apache.org/zh/index.html">首页</a></li><li id="nav-doc" class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">文档<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://echarts.apache.org/zh/feature.html">特性</a></li><li><a href="https://echarts.apache.org/handbook/zh/get-started/">使用手册</a></li><li><a href="https://echarts.apache.org/zh/api.html">API</a></li><li><a href="https://echarts.apache.org/zh/option.html">配置项手册</a></li><li><a href="https://echarts.apache.org/zh/changelog.html">版本记录</a></li><li><a href="https://echarts.apache.org/zh/faq.html">常见问题</a></li><li><a href="https://echarts.apache.org/handbook/zh/basics/release-note/v6-upgrade-guide">v6 升级指南</a></li></ul></li><li id="nav-download" class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">下载<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://echarts.apache.org/zh/download.html">下载</a></li><li><a href="https://echarts.apache.org/zh/download-theme.html">主题下载</a></li><li><a href="https://github.com/apache/echarts-custom-series" target="_blank">自定义系列下载<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://echarts.apache.org/zh/download-extension.html">扩展下载</a></li></ul></li><li id="nav-examples"><a href="https://echarts.apache.org/examples/zh/index.html">示例</a></li><li id="nav-resources"><a href="#" data-toggle="dropdown" class="dropdown-toggle">资源<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://echarts.apache.org/zh/spreadsheet.html">表格工具</a></li><li><a href="https://echarts.apache.org/zh/theme-builder.html">主题构建工具</a></li><li><a href="https://echarts.apache.org/zh/cheat-sheet.html">术语速查手册</a></li><li><a href="https://echarts.apache.org/zh/resources.html">更多资源</a></li></ul></li><li id="nav-contribute"><a href="#" data-toggle="dropdown" class="dropdown-toggle">社区<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://echarts.apache.org/zh/events.html">活动</a></li><li><a href="https://echarts.apache.org/zh/committers.html">贡献者列表</a></li><li><a href="https://echarts.apache.org/zh/maillist.html">邮件列表</a></li><li><a href="https://echarts.apache.org/zh/contributing.html">如何贡献</a></li><li><a href="https://echarts.apache.org/zh/dependencies.html">依赖项</a></li><li><a href="https://echarts.apache.org/zh/coding-standard.html">代码规范</a></li><li><a href="https://github.com/apache/echarts" target="_blank">源码（GitHub）<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://github.com/apache/echarts/issues" target="_blank">Issues（GitHub）<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li id="nav-others"><a href="#" data-toggle="dropdown" class="dropdown-toggle">ASF<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://www.apache.org/" target="_blank">Apache Software Foundation<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://echarts.apache.org/zh/security.html">安全</a></li><li><a href="https://www.apache.org/licenses/" target="_blank">版权<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://www.apache.org/events/current-event" target="_blank">活动<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank">捐赠<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank">鸣谢<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul><ul class="nav navbar-nav navbar-right"><li id="nav-homeen"><a href="javascript:;" onclick='changeLang("en")'>EN</a></li><li id="nav-github"><a href="https://github.com/apache/echarts" target="_blank"><svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-262.000000, -2480.000000)" fill="#333"><g transform="translate(252.000000, 2470.000000)"><path d="M29.9006449,27.904446 C28.5016932,29.8668872 26.6944882,31.2248797 24.4790301,31.9784237 C24.2211218,32.0272886 24.0325745,31.9931534 23.9133882,31.876018 C23.7942019,31.7588827 23.7346171,31.6119968 23.7346338,31.4353603 L23.7346338,28.3376019 C23.7346338,27.3880159 23.4865017,26.6930482 22.9902375,26.2526987 C23.5347812,26.1938141 24.024319,26.1058042 24.458851,25.9886688 C24.893383,25.8715335 25.3422785,25.680801 25.8055376,25.4164714 C26.2687966,25.1521418 26.6556591,24.8267354 26.9661251,24.4402521 C27.276591,24.0537688 27.5296112,23.5398222 27.7251857,22.8984123 C27.9207602,22.2570024 28.0185475,21.5203805 28.0185475,20.6885464 C28.0185475,19.504056 27.6414612,18.4959023 26.8872886,17.6640854 C27.240536,16.7733669 27.2023419,15.7752328 26.7727063,14.6696833 C26.5050218,14.5813565 26.1181593,14.6352226 25.6121189,14.8312818 C25.1060784,15.0273409 24.6669591,15.2428141 24.2947609,15.4777015 L23.7502256,15.8300324 C22.8622108,15.5757225 21.9454689,15.4485675 21,15.4485675 C20.0545311,15.4485675 19.1377892,15.5757225 18.2497744,15.8300324 C18.0969813,15.7223001 17.8940788,15.5901353 17.641067,15.433538 C17.3880551,15.2769408 16.9892689,15.0884007 16.4447085,14.8679176 C15.9001481,14.6474346 15.4894467,14.5813479 15.2126043,14.6696576 C14.7921266,15.7758408 14.7588206,16.7739749 15.1126863,17.6640597 C14.3585137,18.4958938 13.9814275,19.5040475 13.9814275,20.6885208 C13.9814275,21.5203548 14.0792147,22.2544676 14.2747892,22.8908591 C14.4703637,23.5272505 14.720944,24.0411971 15.0265302,24.4326988 C15.3321164,24.8242005 15.7165391,25.1521076 16.1797981,25.41642 C16.6430571,25.6807325 17.0919527,25.871465 17.5264847,25.9886174 C17.9610167,26.1057699 18.4505545,26.1937799 18.9950982,26.2526473 C18.6131238,26.60467 18.3790461,27.1085884 18.292865,27.7644025 C18.0924107,27.8621152 17.8775846,27.935404 17.6483866,27.984269 C17.4191886,28.0331339 17.1469167,28.0575663 16.831571,28.0575663 C16.5162253,28.0575663 16.203612,27.9523346 15.8937309,27.7418712 C15.5838499,27.5314078 15.3189144,27.225424 15.0989244,26.8239198 C14.9174043,26.5107253 14.6857747,26.2564154 14.4040358,26.0609899 C14.1222969,25.8655645 13.8860801,25.7481209 13.6953854,25.708659 L13.4084408,25.6644956 C13.2079866,25.6644956 13.069557,25.6864188 12.9931521,25.7302654 C12.9167472,25.7741119 12.8929083,25.8304873 12.9216353,25.8993914 C12.9503623,25.9682956 12.9934529,26.0368829 13.050907,26.1051533 C13.1083611,26.1734238 13.1703941,26.2319915 13.2370061,26.2808564 L13.336924,26.3541538 C13.5471712,26.4518665 13.7549701,26.6378974 13.9603209,26.9122466 C14.1656716,27.1865958 14.3160164,27.4362043 14.4113555,27.661072 L14.554364,27.9983735 C14.67843,28.3704354 14.8886689,28.6714094 15.1850804,28.9012955 C15.481492,29.1311815 15.8014334,29.2780674 16.1449045,29.3419532 C16.4883756,29.405839 16.8202406,29.4399742 17.1404995,29.4443589 C17.4607584,29.4487435 17.7256939,29.4315218 17.935306,29.3926936 L18.2644137,29.3335008 C18.2644137,29.7055627 18.2668619,30.1412107 18.2717584,30.6404447 C18.2766548,31.1396787 18.279103,31.4040083 18.279103,31.4334334 C18.279103,31.6094533 18.21707,31.7563392 18.093004,31.8740912 C17.9689379,31.9918431 17.7779507,32.0259784 17.5200424,31.9764969 C15.3045843,31.22297 13.4973793,29.8649774 12.0984276,27.9025191 C10.6994759,25.9400608 10,23.7305118 10,21.2738721 C10,19.2281225 10.4916769,17.3417791 11.4750308,15.6148418 C12.4583846,13.8879045 13.7928551,12.5202092 15.4784422,11.5117558 C17.1640293,10.5033024 19.0045486,9.99938397 21,10.0000006 C22.9954514,10.0006172 24.8359707,10.5045356 26.5215578,11.5117558 C28.2071449,12.518976 29.5416154,13.8866713 30.5249692,15.6148418 C31.5083231,17.3430123 32,19.2293557 32,21.2738721 C31.9990725,23.7324558 31.2995966,25.9420048 29.9006449,27.904446 Z"></path></g></g></g></svg></a></li></ul></div></div></nav> <div class="page-main"><div class="page-content handbook-content single-page container-fluid row flex-xl-nowrap"><div class="bd-sidebar col-sm-3 col-md-2 closed"><div class="bd-docs-nav"><ul class="nav bd-sidenav nav-root level0"><li class="nav-item"><a href="/echarts-handbook/zh/get-started" class="nav-link"><span class="title">快速上手</span></a> <ul class="nav bd-sidenav level1" style="display:none"></ul></li><li class="nav-item"><div class="nav-link"><span class="title">入门篇</span></div> <ul class="nav bd-sidenav level1"><li class="nav-item"><a href="/echarts-handbook/zh/basics/download" class="nav-link"><span class="title">获取 ECharts</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/basics/import" class="nav-link"><span class="title">在项目中引入 ECharts</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li><!----><li class="nav-item"><a href="/echarts-handbook/zh/basics/help" class="nav-link"><span class="title">寻求帮助</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li><li class="nav-item"><a class="nav-link"><span class="title">版本特性</span> <span class="glyphicon glyphicon-menu-down"></span></a> <ul class="nav bd-sidenav level2" style="display:none"><li class="nav-item"><a href="/echarts-handbook/zh/basics/release-note/v6-feature" class="nav-link"><span class="title">ECharts 6 特性介绍</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/basics/release-note/v6-upgrade-guide" class="nav-link"><span class="title">v5 升级 v6 指南</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/basics/release-note/v5-feature" class="nav-link"><span class="title">5.0</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/basics/release-note/v5-upgrade-guide" class="nav-link"><span class="title">v4 升级 v5 指南</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/basics/release-note/5-2-0" class="nav-link"><span class="title">5.2</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/basics/release-note/5-3-0" class="nav-link"><span class="title">5.3</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/basics/release-note/5-4-0" class="nav-link"><span class="title">5.4</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/basics/release-note/5-5-0" class="nav-link"><span class="title">5.5</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/basics/release-note/5-6-0" class="nav-link"><span class="title">5.6</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li></ul></li></ul></li><li class="nav-item"><div class="nav-link"><span class="title">概念篇</span></div> <ul class="nav bd-sidenav level1"><li class="nav-item"><a href="/echarts-handbook/zh/concepts/chart-size" class="nav-link"><span class="title">图表容器及大小</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li><!----><!----><li class="nav-item"><a href="/echarts-handbook/zh/concepts/style" class="nav-link"><span class="title">样式</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/concepts/dataset" class="nav-link"><span class="title">数据集</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/concepts/data-transform" class="nav-link"><span class="title">数据转换</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li><!----><li class="nav-item"><a href="/echarts-handbook/zh/concepts/axis" class="nav-link"><span class="title">坐标轴</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/concepts/visual-map" class="nav-link"><span class="title">视觉映射</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/concepts/legend" class="nav-link"><span class="title">图例</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/concepts/event" class="nav-link"><span class="title">事件与行为</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li></ul></li><li class="nav-item"><div class="nav-link"><span class="title">应用篇</span></div> <ul class="nav bd-sidenav level1"><li class="nav-item"><a class="nav-link"><span class="title">常用图表类型</span> <span class="glyphicon glyphicon-menu-down"></span></a> <ul class="nav bd-sidenav level2" style="display:none"><li class="nav-item"><a class="nav-link"><span class="title">柱状图</span> <span class="glyphicon glyphicon-menu-down"></span></a> <ul class="nav bd-sidenav level3" style="display:none"><li class="nav-item"><a href="/echarts-handbook/zh/how-to/chart-types/bar/basic-bar" class="nav-link"><span class="title">基础柱状图</span></a> <ul class="nav bd-sidenav level4" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/how-to/chart-types/bar/stacked-bar" class="nav-link"><span class="title">堆叠柱状图</span></a> <ul class="nav bd-sidenav level4" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/how-to/chart-types/bar/bar-race" class="nav-link"><span class="title">动态排序柱状图</span></a> <ul class="nav bd-sidenav level4" style="display:none"></ul></li><!----><li class="nav-item"><a href="/echarts-handbook/zh/how-to/chart-types/bar/waterfall" class="nav-link"><span class="title">阶梯瀑布图</span></a> <ul class="nav bd-sidenav level4" style="display:none"></ul></li><!----></ul></li><li class="nav-item"><a class="nav-link"><span class="title">折线图</span> <span class="glyphicon glyphicon-menu-down"></span></a> <ul class="nav bd-sidenav level3" style="display:none"><li class="nav-item"><a href="/echarts-handbook/zh/how-to/chart-types/line/basic-line" class="nav-link"><span class="title">基础折线图</span></a> <ul class="nav bd-sidenav level4" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/how-to/chart-types/line/stacked-line" class="nav-link"><span class="title">堆叠折线图</span></a> <ul class="nav bd-sidenav level4" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/how-to/chart-types/line/area-line" class="nav-link"><span class="title">区域面积图</span></a> <ul class="nav bd-sidenav level4" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/how-to/chart-types/line/smooth-line" class="nav-link"><span class="title">平滑曲线图</span></a> <ul class="nav bd-sidenav level4" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/how-to/chart-types/line/step-line" class="nav-link"><span class="title">阶梯线图</span></a> <ul class="nav bd-sidenav level4" style="display:none"></ul></li></ul></li><li class="nav-item"><a class="nav-link"><span class="title">饼图</span> <span class="glyphicon glyphicon-menu-down"></span></a> <ul class="nav bd-sidenav level3" style="display:none"><li class="nav-item"><a href="/echarts-handbook/zh/how-to/chart-types/pie/basic-pie" class="nav-link"><span class="title">基础饼图</span></a> <ul class="nav bd-sidenav level4" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/how-to/chart-types/pie/doughnut" class="nav-link"><span class="title">圆环图</span></a> <ul class="nav bd-sidenav level4" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/how-to/chart-types/pie/rose" class="nav-link"><span class="title">南丁格尔图（玫瑰图）</span></a> <ul class="nav bd-sidenav level4" style="display:none"></ul></li></ul></li><li class="nav-item"><a class="nav-link"><span class="title">散点图</span> <span class="glyphicon glyphicon-menu-down"></span></a> <ul class="nav bd-sidenav level3" style="display:none"><li class="nav-item"><a href="/echarts-handbook/zh/how-to/chart-types/scatter/basic-scatter" class="nav-link"><span class="title">基础散点图</span></a> <ul class="nav bd-sidenav level4" style="display:none"></ul></li></ul></li></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/how-to/custom-series" class="nav-link"><span class="title">自定义系列</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li><li class="nav-item"><a class="nav-link"><span class="title">常用组件</span> <span class="glyphicon glyphicon-menu-down"></span></a> <ul class="nav bd-sidenav level2" style="display:none"><li class="nav-item"><a class="nav-link"><span class="title">地理坐标系（Geo）</span> <span class="glyphicon glyphicon-menu-down"></span></a> <ul class="nav bd-sidenav level3" style="display:none"><li class="nav-item"><a href="/echarts-handbook/zh/how-to/component-types/geo/svg-base-map" class="nav-link"><span class="title">SVG 底图</span></a> <ul class="nav bd-sidenav level4" style="display:none"></ul></li></ul></li></ul></li><!----><li class="nav-item"><a class="nav-link"><span class="title">跨平台方案</span> <span class="glyphicon glyphicon-menu-down"></span></a> <ul class="nav bd-sidenav level2" style="display:none"><li class="nav-item"><a href="/echarts-handbook/zh/how-to/cross-platform/server" class="nav-link"><span class="title">服务端渲染</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/how-to/cross-platform/wechat-app" class="nav-link"><span class="title">微信小程序</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/how-to/cross-platform/baidu-app" class="nav-link"><span class="title">百度智能小程序</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li></ul></li><li class="nav-item"><a class="nav-link"><span class="title">数据处理</span> <span class="glyphicon glyphicon-menu-down"></span></a> <ul class="nav bd-sidenav level2" style="display:none"><li class="nav-item"><a href="/echarts-handbook/zh/how-to/data/dynamic-data" class="nav-link"><span class="title">动态的异步数据</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li><!----></ul></li><li class="nav-item"><a class="nav-link"><span class="title">标签</span> <span class="glyphicon glyphicon-menu-down"></span></a> <ul class="nav bd-sidenav level2" style="display:none"><li class="nav-item"><a href="/echarts-handbook/zh/how-to/label/rich-text" class="nav-link"><span class="title">富文本标签</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li></ul></li><li class="nav-item"><a class="nav-link"><span class="title">动画</span> <span class="glyphicon glyphicon-menu-down"></span></a> <ul class="nav bd-sidenav level2" style="display:none"><li class="nav-item"><a href="/echarts-handbook/zh/how-to/animation/transition" class="nav-link"><span class="title">数据过渡动画</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li></ul></li><li class="nav-item"><a class="nav-link"><span class="title">交互</span> <span class="glyphicon glyphicon-menu-down"></span></a> <ul class="nav bd-sidenav level2" style="display:none"><li class="nav-item"><a href="/echarts-handbook/zh/how-to/interaction/drag" class="nav-link"><span class="title">拖拽的实现</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li><!----><li class="nav-item"><a href="/echarts-handbook/zh/how-to/interaction/coarse-pointer" class="nav-link"><span class="title">智能指针吸附</span></a> <ul class="nav bd-sidenav level3" style="display:none"></ul></li></ul></li></ul></li><li class="nav-item"><div class="nav-link"><span class="title">最佳实践</span></div> <ul class="nav bd-sidenav level1"><!----><li class="nav-item"><a href="/echarts-handbook/zh/best-practices/canvas-vs-svg" class="nav-link"><span class="title">Canvas vs. SVG</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/best-practices/aria" class="nav-link"><span class="title">无障碍访问</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li><li class="nav-item"><a href="/echarts-handbook/zh/best-practices/security" aria-current="page" class="nav-link nuxt-link-exact-active nuxt-link-active"><span class="title">安全指南</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li></ul></li><li class="nav-item"><div class="nav-link"><span class="title">编辑本文档</span></div> <ul class="nav bd-sidenav level1"><li class="nav-item"><a href="/echarts-handbook/zh/meta/edit-guide" class="nav-link"><span class="title">文档编辑指南</span></a> <ul class="nav bd-sidenav level2" style="display:none"></ul></li></ul></li></ul></div> <div class="open-sidebar"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></div> <div class="bd-content col-sm-7 pl-sm-2 col-12"><div class="post-content content"><div><div class="post-inner"><!----> <div class="nuxt-content"><article><h1 id="%E5%AE%89%E5%85%A8%E6%8C%87%E5%8D%97" tabindex="-1">安全指南</h1> <h2 id="%E6%A6%82%E8%BF%B0" tabindex="-1">概述</h2> <p>ECharts 旨在提供丰富而灵活的可视化能力。虽然其绝大多数 API 不需要额外的安全考虑，但有几个例外。例如，<code>tooltip.formatter</code> 允许输入 HTML 字符串，从而完全控制组件的内容与布局；<code>title.link</code> 直接使用输入的 URL 字符串而不进行自动的净化处理（sanitization）。这种灵活性虽然强大，但当输入来自“不受信任”的来源时，可能带来安全风险。本文档列出了这些 API，并提供了如何安全使用这些特性的建议。</p> <p>任何潜在安全问题，可依照 <a href="https://echarts.apache.org/zh/security.html">ASF 安全</a> 中的渠道进行报告。</p> <p>注：本文档面向 ECharts API 调用者。而另有一文档 <a href="https://github.com/apache/echarts/wiki/Security-Checklist-for-Code-Contributors">代码贡献者的安全检查清单</a> 用于 ECharts 贡献者提交 Pull Request 前的检查，并非面向 ECharts API 调用者，但如有兴趣也可参阅。</p> <h2 id="security_model_and_checklist" tabindex="-1">安全模型与检查清单</h2> <p>ECharts 专注于可视化逻辑，一般假定输入内容都是来自“可信任”的来源，不会自动对输入进行净化（sanitization）处理。这和多数前端 UI 库的原则类似。其实 ECharts 自身也不知如何合适地对“不受信任”的内容做净化处理，因为不知哪些输入是“不受信任”的，且不存在适用于所有使用场景的通用净化规则。然而，ECharts 应该明确哪些 API（尤其是 ECharts options）在哪些场景下须在输入前进行安全相关的处理或考量。由于 ECharts options 数量庞大，对所有输入在任何场景下都进行安全处理不现实也无必要。</p> <p>ECharts 通过 Canvas 或 SVG 渲染，只有几个特殊组件例外，允许 HTML 渲染（例如，<a href="https://echarts.apache.org/option.html#tooltip">tooltip</a> 和 <a href="https://echarts.apache.org/option.html#toolbox.feature.dataView">dataView</a>）。ECharts API 的输入可被分类为“JS 函数”或者“非 JS 函数”。“JS 函数输入”本意就须允许执行。而大多数“非 JS 函数输入”（例如仅用于渲染的纯文本）并无被执行的可能，因此通常无需防范恶意代码注入。然而例外是，某些 API 允许在页面中嵌入不安全内容（如 HTML 或 URL 文本）。这些 API 能带来丰富的定制能力，但当输入来自“不受信任”的来源时，容易遭受 XSS （跨站脚本攻击）或相关攻击。</p> <p><strong>一般而言，如果输入的内容都是可被信任的，就不会出现这些注入漏洞。</strong>
“不受信任”（untrusted）的内容指，内容来自于无法完全控制的来源，或者内容可能被用户或外部系统修改或注入。开发者应该总是假定直接在 HTML、CSS、JS 中使用这些内容会不安全。例如，用户生成的数据或来自浏览器/客户端的输入都应被认为是“不受信任”的。但在许多情况下，处理用户生成的内容不可避免。例如，从数据库获取用户生成的数据，并组装成 HTML 输入 <code>tooltip.formatter</code> 来渲染。于是须要额外处理保正渲染正确和安全，通常首先依靠 HTML 转义（HTML escaping）；但如果无法被转义的部分也来自“不受信任”的来源，则需要净化处理（sanitization）。</p> <p>在部署图表之前，请根据以下<strong>检查清单</strong>确认使用是否安全：</p> <table><thead><tr><th>APIs</th> <th>潜在风险与建议</th></tr></thead> <tbody><tr><td><strong>option <a href="https://echarts.apache.org/option.html#tooltip.formatter">tooltip.formatter</a></strong><br>· <code>formatter</code> 允许 HTML 文本或 DOM 元素传入，并后续直接渲染到 tooltip 内部，于是需要考虑 XSS 风险。<br>（例外）：如果 <code>formatter</code> 被直接设置成一个字符串，则认为是一个内部实现的简单模版，后续能内部填入数据。<a href="https://echarts.apache.org/option.html#tooltip.renderMode">tooltip.renderMode: 'richText'</a> 是另一种内部实现的模版，用于定制样式。他们都不涉及 HTML，从而安全。<br><br><strong>option <a href="https://echarts.apache.org/option.html#toolbox.feature.dataView.optionToContent">toolbox.feature.dataView.optionToContent</a></strong><br><strong>option <a href="https://echarts.apache.org/option.html#toolbox.feature.dataView.title">toolbox.feature.dataView.title</a></strong><br><strong>option <a href="https://echarts.apache.org/option.html#toolbox.feature.dataView.lang">toolbox.feature.dataView.lang</a></strong><br>· <code>tooltip.dataView</code> 面板完全以 HTML 渲染，这些 API 可自定义 HTML 文本中的部分内容，于是需要考虑 XSS 风险。</td> <td>需要考虑 XSS 风险。一般情况下，仅需 HTML 转义即可。但如果一些不能转义的部分来自“不受信任”的来源，则须更多处理（如净化处理（sanitization）或沙盒隔离）。<br><br>详细描述见 <a href="zh/best-practices/security#passing_raw_html_safely">“传入 HTML 时的安全考虑”</a>。</td></tr> <tr><td><strong>option <a href="https://echarts.apache.org/option.html#tooltip.extraCssText">tooltip.extraCssText</a></strong><br>· <code>extraCssText</code> 接受一个原始 CSS style 字符串，并接下来直接拼接进 <code>tooltipEl.style.cssText</code>。<br>（例外）：<a href="https://echarts.apache.org/option.html#tooltip.renderMode">tooltip.renderMode: 'richText'</a> 时此 <code>extraCssText</code> 无效。</td> <td>若输入来自可信来源，则一般无安全问题，否则需要仔细评估风险。<br><br>详细描述见 <a href="zh/best-practices/security#passing_inline_css_safely">“传入内联 CSS 时的安全考虑”</a>。</td></tr> <tr><td><strong>option <a href="https://echarts.apache.org/option.html#title.link">title.link</a></strong><br><strong>option <a href="https://echarts.apache.org/option.html#title.sublink">title.sublink</a></strong><br><strong>option <a href="https://echarts.apache.org/option.html#series-treemap.data.link">series-treemap.data.link</a></strong><br><strong>option <a href="https://echarts.apache.org/option.html#series-sunburst.data.link">series-sunburst.data.link</a></strong><br>· 这些 option 直接接受原始 URL 字符串。</td> <td>若若输入来自可信来源，则一般无安全问题，否则须要考虑 XSS 风险。<br><br>详细描述见 <a href="zh/best-practices/security#passing_raw_urls_safely">"传入 URL 时的安全考虑"</a>。</td></tr> <tr><td><strong>option <a href="https://echarts.apache.org/option.html#toolbox.feature.saveAsImage.name">toolbox.feature.saveAsImage.name</a></strong><br><strong>option <a href="https://echarts.apache.org/option.html#toolbox.feature.saveAsImage.type">toolbox.feature.saveAsImage.type</a></strong><br><strong>option <a href="https://echarts.apache.org/option.html#title.text">title[0].text</a></strong><br>· <code>saveAsImage</code> 功能的下载文件名由 <code>{name}.{type}</code> 拼装而成，并未做额外校验或净化（sanitization）处理。如果 <code>name</code> 没有指定，则使用 <code>title[0].text</code> 替代，尽管这种用法并不推荐。</td> <td>详细描述见 <a href="zh/best-practices/security#passing_download_filename_safely">“传入下载文件名时的安全考虑”</a>。</td></tr> <tr><td>所有“JS 函数”输入（回调）</td> <td>通常无安全问题，除非存在特殊使用场景（例如需要执行不可信来源的函数）。<br><br>详细描述见 <a href="zh/best-practices/security#passing_js_function_safely">“传入 JS 函数时的安全考虑”</a>。</td></tr></tbody></table> <h2 id="passing_raw_html_safely" tabindex="-1">传入 HTML 时的安全考虑</h2> <p>在 <a href="zh/best-practices/security#security_model_and_checklist">“安全模型与检查清单”</a> 一节中已列出会接受原始 HTML 的 API。“不受信任”的 HTML 可能导致 XSS 等攻击，因此在传入 ECharts 前应进行处理。常见的处理方式包括 <strong>HTML 转义（HTML Escaping）</strong>、<strong>净化（Sanitization）</strong>、<strong>沙盒</strong>。大多数情况下，仅进行 HTML 转义即可，除非那些不能被转义的部分来自于“不受信任”的来源。</p> <h3 id="passing_raw_html_safely_html_escaping" tabindex="-1">HTML 转义（HTML Escaping）</h3> <p>数据组装成 HTML 字符串前总需要进行 HTML 转义。这不仅是安全需要，也是正确显示的前提。</p> <p>最简单和常见的 HTML 转义是这些字符串转换：</p> <pre><code>'&' => '&ampamp;'
'&lt;' => '&amplt;'
'>' => '&ampgt;'
'"' => '&ampquot;'
"'" => '&amp#39;
</code></pre> <p>转换后，这些字符的功能被去除了，只能显示，从而也无法通过他们进行注入攻击（如 <code>&lt;script>...&lt;/script></code>）。</p> <p>例如：
</p><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-js line-numbers"><code><span class="token comment">// 功能不正确也不安全。</span>
<span class="token function-variable function">formatter</span><span class="token operator">:</span> <span class="token parameter">params</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> params<span class="token punctuation">;</span>
    <span class="token comment">// 如果 name 或 value 中含有功能性字符，如 '&lt;' '>' 等，则可能渲染不正确。</span>
    <span class="token comment">// 同时，如果 name 或 value 的值来自于“非受信任”的来源，则可能被注入恶意代码并运行。</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, &lt;b></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;b/></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 功能正确且安全。</span>
<span class="token function-variable function">formatter</span><span class="token operator">:</span> <span class="token parameter">params</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> params<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>echarts<span class="token punctuation">.</span>format<span class="token punctuation">.</span><span class="token function">encodeHTML</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, &lt;b></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>echarts<span class="token punctuation">.</span>format<span class="token punctuation">.</span><span class="token function">encodeHTML</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/b></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div><p></p> <p>使用 DOM API（如 <code>.textContent = </code>）也能实现转义。</p> <p>在大多数场景中，“不受信任”的内容（如用户输入的文本）仅用于显示，而有功能的部分（如 HTML 标签或属性）完全由应用开发者控制且可信。在这种情况下，HTML 转义本身就足以防御 XSS，只要所有“不受信任”的内容都被正确转义。</p> <h3 id="passing_raw_html_safely_sanitization" tabindex="-1">净化（Sanitization）</h3> <p>有些场景中，需要有功能的部分（如 HTML 标签或属性）也来自“不受信任”的来源。例如，数据库里取出的文本中包含有 <code>&lt;em></code>、<code>&lt;a></code> 等标签，并且想要它们被当做 HTML 标记解释运行，而不是原样显示。又例如，允许用户或者“不受信任”的来源提供 HTML 模板，用于定义布局与样式，继而和数据结合形成最终可被渲染的 HTML 传给 ECharts 。</p> <p>这些场景需要承受相对更高的安全风险，可通过净化（sanitization）机制缓解。净化器（sanitizer）一般基于白名单过滤 HTML 内容，例如移除所有 <code>&lt;script></code>、<code>&lt;style></code>、<code>&lt;link></code>、内联 CSS、事件属性（如 <code>onclick</code>）以及 <code>javascript:</code>/<code>data:</code> 协议的 URL。推荐使用维护良好、社区广泛采用的库，而非用自己写的正则或字符串处理来做这件事。</p> <p>净化可在前端（指 client）、后端（指 server）或两者同时进行，取决于实际场景和安全需求。例如，对于生成于前端的内容（例如前端提交给后端的内容），仅依赖前端净化不够，攻击者可直接伪造请求绕过前端。比如，一个在线编辑器允许用户以所见即所得（WYSIWYG）的方式创建内容，其中，用户可选择使用内置的几个 HTML 模板或 JS 函数（如 <a href="https://echarts.apache.org/option.html#tooltip.formatter">tooltip.formatter</a> 或 <a href="https://echarts.apache.org/option.html#series-scatter.label.formatter">label.formatter</a>）。如果这些选好的或者生成的 HTML 文本或 JS 函数文本被传输到后端，并且不做处理直接存于数据库，则攻击者可在这个阶段注入恶意代码。后续它们被从数据库中取出，并传给 <code>chart.setOption()</code> 时，恶意代码会被执行。所以建议在这类场景中：</p> <ul><li>仅存储内置模板/函数的引用 ID，而不存储原始代码。</li> <li>若为了更高的定制能力而允许自定义模板，则可考虑是否引入安全的第三方模板引擎，从而避免注入。</li> <li>若必须允许用户自定义 HTML，须要严格的后端净化（sanitization）或校验（如过滤掉所有 JS、CSS 和其他可能有安全隐患的内容），并依据实际情况考虑是否在沙盒中渲染以降低潜在的风险。</li></ul> <p>通过净化达到足够的安全性有时并不容易。它需要有仔细和合理的配置，并不断随着浏览器/客户端更新，并常需结合其他防御机制从而达到“绝大多数情况下足够安全”。HTML 在能力上本身非常复杂和多变，在“不受信任”的内容上支持的功能越丰富，可攻击的渠道就越多。</p> <h3 id="passing_raw_html_sandboxing" tabindex="-1">沙盒</h3> <p>若必须执行“不受信任”的代码，或其他措施扔不足以达到足够的安全性，可使用“沙盒 iframe”（sandboxed iframe）进行隔离，提供相对更高安全防护，如 JSFiddle、CodePen 等代码执行平台所采用的机制。</p> <h2 id="passing_inline_css_safely" tabindex="-1">传入内联 CSS 时的安全考虑</h2> <p>HTML 的安全（见 <a href="zh/best-practices/security#passing_raw_html_safely">“传入 HTML 时的安全考虑”</a> 一节）已经包括了 CSS 相关安全问题，而本节主要讨论那些仅接受内联 CSS 字符串的 API（即通过 <code>.style.cssText =</code> 修改 <code>style</code> 属性的情形）。在 <a href="zh/best-practices/security#security_model_and_checklist">“安全模型与检查清单”</a> 一节中列出了这些 API。</p> <p>若内联 CSS 完全来自“可信任”的来源（例如应用自身），则几乎无需担心安全问题，这也是最常见的情况。</p> <p>否则，“不受信任”的 CSS 可能有安全隐患。一些 HTML 净化库支持 CSS 净化（CSS sanitization），但默认行为可能是删除所有 CSS，毕竟做到理想的 CSS 净化难度很大。因此，若必须运行“不受信任”的 CSS，应结合具体场景谨慎评估实现方式。</p> <h2 id="passing_raw_urls_safely" tabindex="-1">传入 URL 时的安全考虑</h2> <p>HTML 的安全（见 <a href="zh/best-practices/security#passing_raw_html_safely">“传入 HTML 时的安全考虑”</a> 一节）已经包括了 URL 相关安全问题，而本节专门针对那些仅接受 URL 输入的 API。在 <a href="zh/best-practices/security#security_model_and_checklist">“安全模型与检查清单”</a> 一节中列出了这些 API。</p> <p>若 URL 完全来自“可信任”的来源（例如应用自身），则几乎无需担心安全问题。</p> <p>否则，“不受信任”的 URL 可能有安全问题，例如利用 <code>javascript:</code> 或 <code>data:</code> 协议执行恶意代码。因此，在传入 ECharts 前，应进行校验或净化，通常会依据白名单仅允许安全的协议。</p> <h2 id="passing_download_filename_safely" tabindex="-1">传入下载文件名时的安全考虑</h2> <p>目前，仅 <a href="https://echarts.apache.org/option.html#toolbox.feature.saveAsImage">SaveAsImage</a> 功能需要传入文件名。若该输入来自“可信任”的来源、长度合规且仅包含 ASCII 字母数字（可含<code>-</code>、<code>_</code>、<code>.</code>），则安全。</p> <p>否则，虽然现代浏览器已显著改进了文件名的自动转义和净化处理（如去除 <code>../</code> 之类试图访问上级目录的路径、正确处理特殊字符等），但也存在一些风险，例如不同系统对保留字符的处理有差异，长度限制也不同。此外，旧浏览器或客户端的行为不够明确且不足够可信赖。因此，对这些“不受信任”的文件名仍应在输入前净化处理。</p> <h2 id="passing_js_function_safely" tabindex="-1">传入 JS 函数时的安全考虑</h2> <p>ECharts 的 <code>option</code>（即 <a href="https://echarts.apache.org/api.html#echartsInstance.setOption">chart.setOption()</a> 的输入）主要是声明式的，但部分 option 可接受 JS 函数（回调）输入以增强表达能力和灵活性，如 <a href="https://echarts.apache.org/option.html#series-scatter.label.formatter">label.formatter</a>、<a href="https://echarts.apache.org/option.html#xAxis.axisTick.interval">axisTick.interval</a> 等。在大多数情况下，这些函数是 app 源代码的一部分于是完全可信任，因此不会引入风险。</p> <p>但若某些产品允许这些 JS 函数来自于“不受信任”的来源，如用户提供函数，则风险与维护成本显著增加。这种场景实质上与执行“不受信任”的 HTML 代码风险相当，可参考 <a href="zh/best-practices/security#passing_raw_html_safely">“传入 HTML 时的安全考虑”</a> 中的讨论。</p></article></div></div> <div class="post-contributors"><h3><span class="inline-block align-middle">本文贡献者</span> <a target="_blank" href="https://github.com/apache/echarts-handbook/tree/master/contents/zh/best-practices/security.md" title="编辑本文" class="inline-block align-middle text-sm"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-8 w-8 inline-block align-middle"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> <span class="inline-block align-middle">在 GitHub 上编辑本页</span></a></h3> <div class="post-contributors-list"><a href="https://github.com/100pah" target="_blank" class="post-contributor has-avatar"><img alt="100pah" src="https://echarts.apache.org/en/images/people/宿爽.jpg?_v_=20240226" loading="lazy" decoding="async" fetchpriority="low"> <span>100pah</span></a><a href="https://github.com/plainheart" target="_blank" class="post-contributor has-avatar"><img alt="plainheart" src="https://echarts.apache.org/en/images/people/plainheart.jpg" loading="lazy" decoding="async" fetchpriority="low"> <span>plainheart</span></a></div></div></div></div></div></div></div></div></div></div><script>window.__NUXT__=function(t,e,i,r,a,o,d,l,n,s,c,h,p,g,m,f,b,u,S,C,_,L,I,y,T,x,M,v,H,w,A,k,P,z,E,J,B,V,Y,W,D,j,G,R,U,O,F,X,Z,q,K,N,Q,$,tt,et,it,rt,at,ot,dt,lt,nt,st){return{layout:"default",data:[{html:'<h1 id="%E5%AE%89%E5%85%A8%E6%8C%87%E5%8D%97" tabindex="-1">安全指南</h1>\n<h2 id="%E6%A6%82%E8%BF%B0" tabindex="-1">概述</h2>\n<p>ECharts 旨在提供丰富而灵活的可视化能力。虽然其绝大多数 API 不需要额外的安全考虑，但有几个例外。例如，<code>tooltip.formatter</code> 允许输入 HTML 字符串，从而完全控制组件的内容与布局；<code>title.link</code> 直接使用输入的 URL 字符串而不进行自动的净化处理（sanitization）。这种灵活性虽然强大，但当输入来自“不受信任”的来源时，可能带来安全风险。本文档列出了这些 API，并提供了如何安全使用这些特性的建议。</p>\n<p>任何潜在安全问题，可依照 <a href="https://echarts.apache.org/zh/security.html">ASF 安全</a> 中的渠道进行报告。</p>\n<p>注：本文档面向 ECharts API 调用者。而另有一文档 <a href="https://github.com/apache/echarts/wiki/Security-Checklist-for-Code-Contributors">代码贡献者的安全检查清单</a> 用于 ECharts 贡献者提交 Pull Request 前的检查，并非面向 ECharts API 调用者，但如有兴趣也可参阅。</p>\n<h2 id="security_model_and_checklist" tabindex="-1">安全模型与检查清单</h2>\n<p>ECharts 专注于可视化逻辑，一般假定输入内容都是来自“可信任”的来源，不会自动对输入进行净化（sanitization）处理。这和多数前端 UI 库的原则类似。其实 ECharts 自身也不知如何合适地对“不受信任”的内容做净化处理，因为不知哪些输入是“不受信任”的，且不存在适用于所有使用场景的通用净化规则。然而，ECharts 应该明确哪些 API（尤其是 ECharts options）在哪些场景下须在输入前进行安全相关的处理或考量。由于 ECharts options 数量庞大，对所有输入在任何场景下都进行安全处理不现实也无必要。</p>\n<p>ECharts 通过 Canvas 或 SVG 渲染，只有几个特殊组件例外，允许 HTML 渲染（例如，<a href="https://echarts.apache.org/option.html#tooltip">tooltip</a> 和 <a href="https://echarts.apache.org/option.html#toolbox.feature.dataView">dataView</a>）。ECharts API 的输入可被分类为“JS 函数”或者“非 JS 函数”。“JS 函数输入”本意就须允许执行。而大多数“非 JS 函数输入”（例如仅用于渲染的纯文本）并无被执行的可能，因此通常无需防范恶意代码注入。然而例外是，某些 API 允许在页面中嵌入不安全内容（如 HTML 或 URL 文本）。这些 API 能带来丰富的定制能力，但当输入来自“不受信任”的来源时，容易遭受 XSS （跨站脚本攻击）或相关攻击。</p>\n<p><strong>一般而言，如果输入的内容都是可被信任的，就不会出现这些注入漏洞。</strong>\n“不受信任”（untrusted）的内容指，内容来自于无法完全控制的来源，或者内容可能被用户或外部系统修改或注入。开发者应该总是假定直接在 HTML、CSS、JS 中使用这些内容会不安全。例如，用户生成的数据或来自浏览器/客户端的输入都应被认为是“不受信任”的。但在许多情况下，处理用户生成的内容不可避免。例如，从数据库获取用户生成的数据，并组装成 HTML 输入 <code>tooltip.formatter</code> 来渲染。于是须要额外处理保正渲染正确和安全，通常首先依靠 HTML 转义（HTML escaping）；但如果无法被转义的部分也来自“不受信任”的来源，则需要净化处理（sanitization）。</p>\n<p>在部署图表之前，请根据以下<strong>检查清单</strong>确认使用是否安全：</p>\n<table>\n<thead>\n<tr>\n<th>APIs</th>\n<th>潜在风险与建议</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>option <a href="https://echarts.apache.org/option.html#tooltip.formatter">tooltip.formatter</a></strong><br>· <code>formatter</code> 允许 HTML 文本或 DOM 元素传入，并后续直接渲染到 tooltip 内部，于是需要考虑 XSS 风险。<br>（例外）：如果 <code>formatter</code> 被直接设置成一个字符串，则认为是一个内部实现的简单模版，后续能内部填入数据。<a href="https://echarts.apache.org/option.html#tooltip.renderMode">tooltip.renderMode: \'richText\'</a> 是另一种内部实现的模版，用于定制样式。他们都不涉及 HTML，从而安全。<br><br><strong>option <a href="https://echarts.apache.org/option.html#toolbox.feature.dataView.optionToContent">toolbox.feature.dataView.optionToContent</a></strong><br><strong>option <a href="https://echarts.apache.org/option.html#toolbox.feature.dataView.title">toolbox.feature.dataView.title</a></strong><br><strong>option <a href="https://echarts.apache.org/option.html#toolbox.feature.dataView.lang">toolbox.feature.dataView.lang</a></strong><br>· <code>tooltip.dataView</code> 面板完全以 HTML 渲染，这些 API 可自定义 HTML 文本中的部分内容，于是需要考虑 XSS 风险。</td>\n<td>需要考虑 XSS 风险。一般情况下，仅需 HTML 转义即可。但如果一些不能转义的部分来自“不受信任”的来源，则须更多处理（如净化处理（sanitization）或沙盒隔离）。<br><br>详细描述见 <a href="zh/best-practices/security#passing_raw_html_safely">“传入 HTML 时的安全考虑”</a>。</td>\n</tr>\n<tr>\n<td><strong>option <a href="https://echarts.apache.org/option.html#tooltip.extraCssText">tooltip.extraCssText</a></strong><br>· <code>extraCssText</code> 接受一个原始 CSS style 字符串，并接下来直接拼接进 <code>tooltipEl.style.cssText</code>。<br>（例外）：<a href="https://echarts.apache.org/option.html#tooltip.renderMode">tooltip.renderMode: \'richText\'</a> 时此 <code>extraCssText</code> 无效。</td>\n<td>若输入来自可信来源，则一般无安全问题，否则需要仔细评估风险。<br><br>详细描述见 <a href="zh/best-practices/security#passing_inline_css_safely">“传入内联 CSS 时的安全考虑”</a>。</td>\n</tr>\n<tr>\n<td><strong>option <a href="https://echarts.apache.org/option.html#title.link">title.link</a></strong><br><strong>option <a href="https://echarts.apache.org/option.html#title.sublink">title.sublink</a></strong><br><strong>option <a href="https://echarts.apache.org/option.html#series-treemap.data.link">series-treemap.data.link</a></strong><br><strong>option <a href="https://echarts.apache.org/option.html#series-sunburst.data.link">series-sunburst.data.link</a></strong><br>· 这些 option 直接接受原始 URL 字符串。</td>\n<td>若若输入来自可信来源，则一般无安全问题，否则须要考虑 XSS 风险。<br><br>详细描述见 <a href="zh/best-practices/security#passing_raw_urls_safely">&quot;传入 URL 时的安全考虑&quot;</a>。</td>\n</tr>\n<tr>\n<td><strong>option <a href="https://echarts.apache.org/option.html#toolbox.feature.saveAsImage.name">toolbox.feature.saveAsImage.name</a></strong><br><strong>option <a href="https://echarts.apache.org/option.html#toolbox.feature.saveAsImage.type">toolbox.feature.saveAsImage.type</a></strong><br><strong>option <a href="https://echarts.apache.org/option.html#title.text">title[0].text</a></strong><br>· <code>saveAsImage</code> 功能的下载文件名由 <code>{name}.{type}</code> 拼装而成，并未做额外校验或净化（sanitization）处理。如果 <code>name</code> 没有指定，则使用 <code>title[0].text</code> 替代，尽管这种用法并不推荐。</td>\n<td>详细描述见 <a href="zh/best-practices/security#passing_download_filename_safely">“传入下载文件名时的安全考虑”</a>。</td>\n</tr>\n<tr>\n<td>所有“JS 函数”输入（回调）</td>\n<td>通常无安全问题，除非存在特殊使用场景（例如需要执行不可信来源的函数）。<br><br>详细描述见 <a href="zh/best-practices/security#passing_js_function_safely">“传入 JS 函数时的安全考虑”</a>。</td>\n</tr>\n</tbody>\n</table>\n<h2 id="passing_raw_html_safely" tabindex="-1">传入 HTML 时的安全考虑</h2>\n<p>在 <a href="zh/best-practices/security#security_model_and_checklist">“安全模型与检查清单”</a> 一节中已列出会接受原始 HTML 的 API。“不受信任”的 HTML 可能导致 XSS 等攻击，因此在传入 ECharts 前应进行处理。常见的处理方式包括 <strong>HTML 转义（HTML Escaping）</strong>、<strong>净化（Sanitization）</strong>、<strong>沙盒</strong>。大多数情况下，仅进行 HTML 转义即可，除非那些不能被转义的部分来自于“不受信任”的来源。</p>\n<h3 id="passing_raw_html_safely_html_escaping" tabindex="-1">HTML 转义（HTML Escaping）</h3>\n<p>数据组装成 HTML 字符串前总需要进行 HTML 转义。这不仅是安全需要，也是正确显示的前提。</p>\n<p>最简单和常见的 HTML 转义是这些字符串转换：</p>\n<pre><code>\'&amp;\' =&gt; \'&amp;amp;\'\n\'&lt;\' =&gt; \'&amp;lt;\'\n\'&gt;\' =&gt; \'&amp;gt;\'\n\'&quot;\' =&gt; \'&amp;quot;\'\n&quot;\'&quot; =&gt; \'&amp;#39;\n</code></pre>\n<p>转换后，这些字符的功能被去除了，只能显示，从而也无法通过他们进行注入攻击（如 <code>&lt;script&gt;...&lt;/script&gt;</code>）。</p>\n<p>例如：\n<md-code-block lang="js" code="\'Ly8g5Yqf6IO95LiN5q2j56Gu5Lmf5LiN5a6J5YWo44CCCmZvcm1hdHRlcjogcGFyYW1zID0-IHsKICAgIGNvbnN0IHsgbmFtZSwgdmFsdWUgfSA9IHBhcmFtczsKICAgIC8vIOWmguaenCBuYW1lIOaIliB2YWx1ZSDkuK3lkKvmnInlip_og73mgKflrZfnrKbvvIzlpoIgJzwnICc-JyDnrYnvvIzliJnlj6_og73muLLmn5PkuI3mraPnoa7jgIIKICAgIC8vIOWQjOaXtu-8jOWmguaenCBuYW1lIOaIliB2YWx1ZSDnmoTlgLzmnaXoh6rkuo7igJzpnZ7lj5fkv6Hku7vigJ3nmoTmnaXmupDvvIzliJnlj6_og73ooqvms6jlhaXmgbbmhI_ku6PnoIHlubbov5DooYzjgIIKICAgIHJldHVybiBgJHtuYW1lfSwgPGI-JHt2YWx1ZX08Yi8-YDsKfQovLyDlip_og73mraPnoa7kuJTlronlhajjgIIKZm9ybWF0dGVyOiBwYXJhbXMgPT4gewogICAgY29uc3QgeyBuYW1lLCB2YWx1ZSB9ID0gcGFyYW1zOwogICAgcmV0dXJuIGAke2VjaGFydHMuZm9ybWF0LmVuY29kZUhUTUwobmFtZSl9LCA8Yj4ke2VjaGFydHMuZm9ybWF0LmVuY29kZUhUTUwodmFsdWUpfTwvYj5gOwp9\'" line-highlights="\'\'" /></p>\n<p>使用 DOM API（如 <code>.textContent = </code>）也能实现转义。</p>\n<p>在大多数场景中，“不受信任”的内容（如用户输入的文本）仅用于显示，而有功能的部分（如 HTML 标签或属性）完全由应用开发者控制且可信。在这种情况下，HTML 转义本身就足以防御 XSS，只要所有“不受信任”的内容都被正确转义。</p>\n<h3 id="passing_raw_html_safely_sanitization" tabindex="-1">净化（Sanitization）</h3>\n<p>有些场景中，需要有功能的部分（如 HTML 标签或属性）也来自“不受信任”的来源。例如，数据库里取出的文本中包含有 <code>&lt;em&gt;</code>、<code>&lt;a&gt;</code> 等标签，并且想要它们被当做 HTML 标记解释运行，而不是原样显示。又例如，允许用户或者“不受信任”的来源提供 HTML 模板，用于定义布局与样式，继而和数据结合形成最终可被渲染的 HTML 传给 ECharts 。</p>\n<p>这些场景需要承受相对更高的安全风险，可通过净化（sanitization）机制缓解。净化器（sanitizer）一般基于白名单过滤 HTML 内容，例如移除所有 <code>&lt;script&gt;</code>、<code>&lt;style&gt;</code>、<code>&lt;link&gt;</code>、内联 CSS、事件属性（如 <code>onclick</code>）以及 <code>javascript:</code>/<code>data:</code> 协议的 URL。推荐使用维护良好、社区广泛采用的库，而非用自己写的正则或字符串处理来做这件事。</p>\n<p>净化可在前端（指 client）、后端（指 server）或两者同时进行，取决于实际场景和安全需求。例如，对于生成于前端的内容（例如前端提交给后端的内容），仅依赖前端净化不够，攻击者可直接伪造请求绕过前端。比如，一个在线编辑器允许用户以所见即所得（WYSIWYG）的方式创建内容，其中，用户可选择使用内置的几个 HTML 模板或 JS 函数（如 <a href="https://echarts.apache.org/option.html#tooltip.formatter">tooltip.formatter</a> 或 <a href="https://echarts.apache.org/option.html#series-scatter.label.formatter">label.formatter</a>）。如果这些选好的或者生成的 HTML 文本或 JS 函数文本被传输到后端，并且不做处理直接存于数据库，则攻击者可在这个阶段注入恶意代码。后续它们被从数据库中取出，并传给 <code>chart.setOption()</code> 时，恶意代码会被执行。所以建议在这类场景中：</p>\n<ul>\n<li>仅存储内置模板/函数的引用 ID，而不存储原始代码。</li>\n<li>若为了更高的定制能力而允许自定义模板，则可考虑是否引入安全的第三方模板引擎，从而避免注入。</li>\n<li>若必须允许用户自定义 HTML，须要严格的后端净化（sanitization）或校验（如过滤掉所有 JS、CSS 和其他可能有安全隐患的内容），并依据实际情况考虑是否在沙盒中渲染以降低潜在的风险。</li>\n</ul>\n<p>通过净化达到足够的安全性有时并不容易。它需要有仔细和合理的配置，并不断随着浏览器/客户端更新，并常需结合其他防御机制从而达到“绝大多数情况下足够安全”。HTML 在能力上本身非常复杂和多变，在“不受信任”的内容上支持的功能越丰富，可攻击的渠道就越多。</p>\n<h3 id="passing_raw_html_sandboxing" tabindex="-1">沙盒</h3>\n<p>若必须执行“不受信任”的代码，或其他措施扔不足以达到足够的安全性，可使用“沙盒 iframe”（sandboxed iframe）进行隔离，提供相对更高安全防护，如 JSFiddle、CodePen 等代码执行平台所采用的机制。</p>\n<h2 id="passing_inline_css_safely" tabindex="-1">传入内联 CSS 时的安全考虑</h2>\n<p>HTML 的安全（见 <a href="zh/best-practices/security#passing_raw_html_safely">“传入 HTML 时的安全考虑”</a> 一节）已经包括了 CSS 相关安全问题，而本节主要讨论那些仅接受内联 CSS 字符串的 API（即通过 <code>.style.cssText =</code> 修改 <code>style</code> 属性的情形）。在 <a href="zh/best-practices/security#security_model_and_checklist">“安全模型与检查清单”</a> 一节中列出了这些 API。</p>\n<p>若内联 CSS 完全来自“可信任”的来源（例如应用自身），则几乎无需担心安全问题，这也是最常见的情况。</p>\n<p>否则，“不受信任”的 CSS 可能有安全隐患。一些 HTML 净化库支持 CSS 净化（CSS sanitization），但默认行为可能是删除所有 CSS，毕竟做到理想的 CSS 净化难度很大。因此，若必须运行“不受信任”的 CSS，应结合具体场景谨慎评估实现方式。</p>\n<h2 id="passing_raw_urls_safely" tabindex="-1">传入 URL 时的安全考虑</h2>\n<p>HTML 的安全（见 <a href="zh/best-practices/security#passing_raw_html_safely">“传入 HTML 时的安全考虑”</a> 一节）已经包括了 URL 相关安全问题，而本节专门针对那些仅接受 URL 输入的 API。在 <a href="zh/best-practices/security#security_model_and_checklist">“安全模型与检查清单”</a> 一节中列出了这些 API。</p>\n<p>若 URL 完全来自“可信任”的来源（例如应用自身），则几乎无需担心安全问题。</p>\n<p>否则，“不受信任”的 URL 可能有安全问题，例如利用 <code>javascript:</code> 或 <code>data:</code> 协议执行恶意代码。因此，在传入 ECharts 前，应进行校验或净化，通常会依据白名单仅允许安全的协议。</p>\n<h2 id="passing_download_filename_safely" tabindex="-1">传入下载文件名时的安全考虑</h2>\n<p>目前，仅 <a href="https://echarts.apache.org/option.html#toolbox.feature.saveAsImage">SaveAsImage</a> 功能需要传入文件名。若该输入来自“可信任”的来源、长度合规且仅包含 ASCII 字母数字（可含<code>-</code>、<code>_</code>、<code>.</code>），则安全。</p>\n<p>否则，虽然现代浏览器已显著改进了文件名的自动转义和净化处理（如去除 <code>../</code> 之类试图访问上级目录的路径、正确处理特殊字符等），但也存在一些风险，例如不同系统对保留字符的处理有差异，长度限制也不同。此外，旧浏览器或客户端的行为不够明确且不足够可信赖。因此，对这些“不受信任”的文件名仍应在输入前净化处理。</p>\n<h2 id="passing_js_function_safely" tabindex="-1">传入 JS 函数时的安全考虑</h2>\n<p>ECharts 的 <code>option</code>（即 <a href="https://echarts.apache.org/api.html#echartsInstance.setOption">chart.setOption()</a> 的输入）主要是声明式的，但部分 option 可接受 JS 函数（回调）输入以增强表达能力和灵活性，如 <a href="https://echarts.apache.org/option.html#series-scatter.label.formatter">label.formatter</a>、<a href="https://echarts.apache.org/option.html#xAxis.axisTick.interval">axisTick.interval</a> 等。在大多数情况下，这些函数是 app 源代码的一部分于是完全可信任，因此不会引入风险。</p>\n<p>但若某些产品允许这些 JS 函数来自于“不受信任”的来源，如用户提供函数，则风险与维护成本显著增加。这种场景实质上与执行“不受信任”的 HTML 代码风险相当，可参考 <a href="zh/best-practices/security#passing_raw_html_safely">“传入 HTML 时的安全考虑”</a> 中的讨论。</p>\n',postPath:"zh/best-practices/security",title:"安全指南 - 最佳实践"}],fetch:{},error:null,state:{filled:!1,docVersion:"",ghVersion:"",visibleAffix:!1,homepage:{},adBlocked:!1,focusMode:!1,posts:{zh:[{title:"快速上手",dir:r},{title:"入门篇",dir:a,children:[{title:"获取 ECharts",dir:o},{title:"在项目中引入 ECharts",dir:d},{title:"资源列表",dir:l,draft:t},{title:"寻求帮助",dir:n},{title:"版本特性",dir:s,children:[{title:"ECharts 6 特性介绍",dir:c},{title:"v5 升级 v6 指南",dir:h},{title:"5.0",dir:p},{title:"v4 升级 v5 指南",dir:g},{title:5.2,dir:m},{title:5.3,dir:f},{title:5.4,dir:b},{title:5.5,dir:u},{title:5.6,dir:S}]}]},{title:"概念篇",dir:C,children:[{title:"图表容器及大小",dir:_},{title:"配置项",dir:L,draft:t},{title:"系列",dir:I,draft:t},{title:"样式",dir:y},{title:"数据集",dir:T},{title:"数据转换",dir:x},{title:"坐标系",dir:M,draft:t},{title:"坐标轴",dir:v},{title:"视觉映射",dir:i},{title:"图例",dir:H},{title:"事件与行为",dir:w}]},{title:"应用篇",dir:A,children:[{title:"常用图表类型",dir:k,children:[{title:"柱状图",dir:"bar",children:[{title:"基础柱状图",dir:P},{title:"堆叠柱状图",dir:z},{title:"动态排序柱状图",dir:E},{title:"极坐标系柱状图",dir:J,draft:t},{title:"阶梯瀑布图",dir:B},{title:"视觉映射的柱状图",dir:i,draft:t}]},{title:"折线图",dir:V,children:[{title:"基础折线图",dir:Y},{title:"堆叠折线图",dir:W},{title:"区域面积图",dir:D},{title:"平滑曲线图",dir:j},{title:"阶梯线图",dir:G}]},{title:"饼图",dir:"pie",children:[{title:"基础饼图",dir:R},{title:"圆环图",dir:U},{title:"南丁格尔图（玫瑰图）",dir:"rose"}]},{title:"散点图",dir:O,children:[{title:"基础散点图",dir:F}]}]},{title:"自定义系列",dir:X},{title:"常用组件",dir:Z,children:[{title:"地理坐标系（Geo）",dir:"geo",children:[{title:"SVG 底图",dir:q}]}]},{title:"移动端优化",dir:e,draft:t},{title:"跨平台方案",dir:K,children:[{title:"服务端渲染",dir:"server"},{title:"微信小程序",dir:"wechat-app"},{title:"百度智能小程序",dir:"baidu-app"}]},{title:"数据处理",dir:"data",children:[{title:"动态的异步数据",dir:N},{title:"数据下钻",dir:Q,draft:t}]},{title:"标签",dir:"label",children:[{title:"富文本标签",dir:$}]},{title:"动画",dir:tt,children:[{title:"数据过渡动画",dir:et}]},{title:"交互",dir:it,children:[{title:"拖拽的实现",dir:"drag"},{title:"多图联动",dir:rt,draft:t},{title:"智能指针吸附",dir:at}]}]},{title:"最佳实践",dir:ot,children:[{title:"移动端优化",dir:e,draft:t},{title:dt,dir:lt},{title:"无障碍访问",dir:"aria"},{title:"安全指南",dir:nt}]},{title:"编辑本文档",dir:"meta",children:[{title:"文档编辑指南",dir:st}]}],en:[{title:"Get Started",dir:r},{title:"Basics",dir:a,children:[{title:"Download ECharts",dir:o},{title:"Import ECharts",dir:d},{title:"Resources",dir:l,draft:t},{title:"Get Help",dir:n},{title:"What's New",dir:s,children:[{title:"ECharts 6 Features",dir:c},{title:"Migration from v5 to v6",dir:h},{title:"5.0",dir:p},{title:"Migration from v4 to v5",dir:g},{title:5.2,dir:m},{title:5.3,dir:f},{title:5.4,dir:b},{title:5.5,dir:u},{title:5.6,dir:S}]}]},{title:"Concepts",dir:C,children:[{title:"Chart Container",dir:_},{title:"Chart Option",dir:L,draft:t},{title:"Series",dir:I,draft:t},{title:"Style",dir:y},{title:"Dataset",dir:T},{title:"Data Transform",dir:x},{title:"Coordinate",dir:M,draft:t},{title:"Axis",dir:v},{title:"Visual Mapping",dir:i},{title:"Legend",dir:H},{title:"Event and Action",dir:w}]},{title:"How To Guides",dir:A,children:[{title:"Common Charts",dir:k,children:[{title:"Bar",dir:"bar",children:[{title:"Basic Bar",dir:P},{title:"Stacked Bar",dir:z},{title:"Bar Racing",dir:E},{title:"Bar Polar",dir:J,draft:t},{title:"Waterfall",dir:B}]},{title:"Line",dir:V,children:[{title:"Basic Line",dir:Y},{title:"Stacked Line",dir:W},{title:"Area Chart",dir:D},{title:"Smoothed Line",dir:j},{title:"Step Line",dir:G}]},{title:"Pie",dir:"pie",children:[{title:"Basic Pie",dir:R},{title:"Ring Style",dir:U},{title:"Rose Style",dir:"rose"}]},{title:"Scatter",dir:O,children:[{title:"Basic Scatter",dir:F}]}]},{title:"Custom Series",dir:X},{title:"Common Components",dir:Z,children:[{title:"Geo",dir:"geo",children:[{title:"SVG Base Map",dir:q}]}]},{title:"Mobile",dir:e,draft:t},{title:"Cross Platform",dir:K,children:[{title:"Server Side Rendering",dir:"server"}]},{title:"Data",dir:"data",children:[{title:"Dynamic Data",dir:N},{title:"Drilldown",dir:Q,draft:t}]},{title:"Label",dir:"label",children:[{title:"Rich Text",dir:$}]},{title:"Animation",dir:tt,children:[{title:"Data Transition",dir:et}]},{title:"Interaction",dir:it,children:[{title:"Drag",dir:"drag"},{title:"Connect",dir:rt,draft:t},{title:"Intelligent Pointer Snapping",dir:at}]}]},{title:"Best Practices",dir:ot,children:[{title:"Mobile Optimization",dir:e,draft:t},{title:dt,dir:lt},{title:"Aria",dir:"aria"},{title:"Security Guidelines",dir:nt}]},{title:"Edit Handbook",dir:"meta",children:[{title:"Edit Guide",dir:st}]}]},config:{routerBase:"/echarts-handbook",rootPath:"https://apache.github.io/echarts-handbook/",exampleViewPath:"https://echarts.apache.org/examples/${lang}/view.html?c=",exampleEditorPath:"https://echarts.apache.org/examples/${lang}/editor.html?c=",mainSitePath:"https://echarts.apache.org/",optionPath:"https://echarts.apache.org/option.html#",apiPath:"https://echarts.apache.org/api.html#",gitRepo:"apache/echarts-handbook"},i18n:{routeParams:{}}},serverRendered:t,routePath:"/zh/best-practices/security",config:{_app:{basePath:"/echarts-handbook/",assetsPath:"/echarts-handbook/_nuxt/",cdnURL:null}}}}(!0,"mobile","visual-map","get-started","basics","download","import","resource","help","release-note","v6-feature","v6-upgrade-guide","v5-feature","v5-upgrade-guide","5-2-0","5-3-0","5-4-0","5-5-0","5-6-0","concepts","chart-size","options","series","style","dataset","data-transform","coordinate","axis","legend","event","how-to","chart-types","basic-bar","stacked-bar","bar-race","polar-bar","waterfall","line","basic-line","stacked-line","area-line","smooth-line","step-line","basic-pie","doughnut","scatter","basic-scatter","custom-series","component-types","svg-base-map","cross-platform","dynamic-data","drilldown","rich-text","animation","transition","interaction","connect","coarse-pointer","best-practices","Canvas vs. SVG","canvas-vs-svg","security","edit-guide")</script><script src="/echarts-handbook/_nuxt/d6c60eb.js" defer></script><script src="/echarts-handbook/_nuxt/js/a0aeabe5a0eba1d88cd8.js" defer></script><script src="/echarts-handbook/_nuxt/js/8cbc28eba39ffdac2c44.js" defer></script><script src="/echarts-handbook/_nuxt/js/fa73816a85b29fbf7562.js" defer></script><script src="/echarts-handbook/_nuxt/js/b964c20bb1562bc48da6.js" defer></script><script src="/echarts-handbook/_nuxt/js/a262cfb30d7d3226a84d.js" defer></script><noscript data-n-head="ssr" data-body="true"><div class="no-script"><strong>很抱歉，Apache ECharts 网站需要启用 JavaScript 才能正常运行。</strong></div></noscript>
    <script type="text/javascript">document.getElementById("nav-doc").className="active"</script>
  </body>
</html>
